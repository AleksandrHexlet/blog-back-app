Blog Backend Application - ÑÑ‚Ğ¾ REST API Ğ±ÑĞºĞµĞ½Ğ´ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ-Ğ±Ğ»Ğ¾Ğ³Ğ°, Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° Java 21 Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Spring Framework 6.1+. ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² ÑĞµÑ€Ğ²Ğ»ĞµÑ‚-ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğµ Tomcat 10 Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ñ€ĞµĞ»ÑÑ†Ğ¸Ğ¾Ğ½Ğ½ÑƒÑ Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… PostgreSQL (Ğ¸Ğ»Ğ¸ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½ÑƒÑ H2 Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ).

âœ¨ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸
ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°: Ğ¢Ñ€ĞµÑ…ÑĞ»Ğ¾Ğ¹Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Controller â†’ Service â†’ DAO/Repository)

REST API: ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ REST API Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ¼Ğ¸ Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ÑĞ¼Ğ¸

Spring Data JDBC: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Spring Data JDBC Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ‘Ğ” Ğ²Ğ¼ĞµÑÑ‚Ğ¾ ORM

Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:  JUnit 5, Spring Test Framework Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğ¼ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼

Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ: Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Jakarta Validation

Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ: ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ JAVADOC Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ»Ğ°ÑÑĞ¾Ğ² Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ²

Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ: Ğ£Ğ¿Ğ°ĞºĞ¾Ğ²Ğ°Ğ½ ĞºĞ°Ğº WAR Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° Tomcat

ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€       â”‚ (http://localhost/80)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ HTTP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nginx Server   â”‚ (Frontend)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ REST API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tomcat Servlet Container            â”‚ (http://localhost:8080)
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Spring MVC Controller Layer   â”‚  â”‚
â”‚  â”‚  (REST Endpoints)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Service Layer                 â”‚  â”‚
â”‚  â”‚  (Business Logic)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   DAO/Repository Layer          â”‚  â”‚
â”‚  â”‚  (Spring Data JDBC)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ SQL Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL DB  â”‚
â”‚  (Ğ¸Ğ»Ğ¸ H2)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
text
blog-back-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ ru/yandex/practicum/blog/
â”‚   â”‚   â”‚       â”œâ”€â”€ config/                    # Spring ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ AppConfig.java         # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ WebConfig.java         # Web MVC ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ DataSourceConfig.java  # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ DataSource
â”‚   â”‚   â”‚       â”œâ”€â”€ controller/                # REST ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostController.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ CommentController.java
â”‚   â”‚   â”‚       â”œâ”€â”€ service/                   # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostService.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CommentService.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ImageService.java
â”‚   â”‚   â”‚       â”œâ”€â”€ repository/                # Spring Data JDBC Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostRepository.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CommentRepository.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostTagRepository.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ImageRepository.java
â”‚   â”‚   â”‚       â”œâ”€â”€ model/                     # ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ Post.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ Comment.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostTag.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ Image.java
â”‚   â”‚   â”‚       â”œâ”€â”€ dto/                       # Data Transfer Objects
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostDTO.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ PostListResponseDTO.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ CommentDTO.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ErrorResponseDTO.java
â”‚   â”‚   â”‚       â”œâ”€â”€ exception/                 # Custom exceptions
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ ResourceNotFoundException.java
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ InvalidInputException.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â”‚       â”œâ”€â”€ util/                      # Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»Ğ°ÑÑÑ‹
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ TextUtil.java
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ FileUtil.java
â”‚   â”‚   â”‚       â””â”€â”€ web/
â”‚   â”‚   â”‚           â””â”€â”€ WebApplicationInitializer.java  # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€ Servlet ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties          # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚       â”œâ”€â”€ application-postgres.properties # PostgreSQL Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â”‚   â”‚       â”œâ”€â”€ application-h2.properties       # H2 Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â”‚   â”‚       â”œâ”€â”€ logback.xml                     # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”‚       â”œâ”€â”€ schema.sql                      # Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”
â”‚   â”‚       â””â”€â”€ data.sql                        # ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ ru/yandex/practicum/blog/
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â”œâ”€â”€ PostControllerTest.java
â”‚       â”‚       â”‚   â””â”€â”€ CommentControllerTest.java
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ PostServiceTest.java
â”‚       â”‚       â”‚   â””â”€â”€ CommentServiceTest.java
â”‚       â”‚       â”œâ”€â”€ repository/
â”‚       â”‚       â”‚   â”œâ”€â”€ PostRepositoryTest.java
â”‚       â”‚       â”‚   â””â”€â”€ CommentRepositoryTest.java
â”‚       â”‚       â”œâ”€â”€ integration/
â”‚       â”‚       â”‚   â”œâ”€â”€ PostIntegrationTest.java
â”‚       â”‚       â”‚   â””â”€â”€ CommentIntegrationTest.java
â”‚       â”‚       â””â”€â”€ config/
â”‚       â”‚           â””â”€â”€ TestDataSourceConfig.java
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application-test.properties
â”‚           â”œâ”€â”€ schema-test.sql
â”‚           â””â”€â”€ data-test.sql
â”œâ”€â”€ pom.xml                                     # Maven ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ .gitignore                                  # Git ignore Ñ„Ğ°Ğ¹Ğ»
â”œâ”€â”€ README.md                                   # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
â””â”€â”€ DEPLOYMENT.md                               # Ğ“Ğ°Ğ¹Ğ´ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ

ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
Java 21+: Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ° JDK 21 Ğ¸Ğ»Ğ¸ Ğ²Ñ‹ÑˆĞµ

Maven 3.8+: Ğ”Ğ»Ñ ÑĞ±Ğ¾Ñ€ĞºĞ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

PostgreSQL 14+: Ğ”Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² production (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

Git: Ğ”Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞµÑ€ÑĞ¸ÑĞ¼Ğ¸

Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ ÑĞ±Ğ¾Ñ€ĞºĞ°
ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹:

bash
git clone https://github.com/AleksandrHexlet/blog-back-app.git
cd blog-back-app
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ feature Ğ²ĞµÑ‚ĞºÑƒ:

bash
git checkout -b feature/initial-setup
Ğ¡Ğ¾Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚:

bash
mvn clean install
Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚Ñ‹:

bash
mvn test
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ WAR Ñ„Ğ°Ğ¹Ğ»:

bash
mvn clean package
WAR Ñ„Ğ°Ğ¹Ğ» Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ¿Ğ¾ Ğ¿ÑƒÑ‚Ğ¸: target/blog-back-app.war

ğŸ“Š REST API Endpoints
Posts API
1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² (Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ, Ğ¿Ğ¾Ğ¸ÑĞº, Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ)
   text
   GET /api/posts?search=Lalala&pageNumber=1&pageSize=5
   ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:

search (required): Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ° Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ñ‚ĞµĞºÑÑ‚Ñƒ Ğ¿Ğ¾ÑÑ‚Ğ°

pageNumber (required): ĞĞ¾Ğ¼ĞµÑ€ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ (Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ñ 1)

pageSize (required): ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ

ĞÑ‚Ğ²ĞµÑ‚ 200 OK:

json
{
"posts": [
{
"id": 1,
"title": "My First Post",
"text": "This is the text of my first post...",
"tags": ["java", "spring"],
"likesCount": 5,
"commentsCount": 2
}
],
"hasPrev": false,
"hasNext": true,
"lastPage": 3
}
2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ğ° Ğ¿Ğ¾ ID
   text
   GET /api/posts/{id}
   ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¿ÑƒÑ‚Ğ¸:

id (required): ID Ğ¿Ğ¾ÑÑ‚Ğ°

ĞÑ‚Ğ²ĞµÑ‚ 200 OK:

json
{
"id": 1,
"title": "My First Post",
"text": "This is the full text of my first post without truncation...",
"tags": ["java", "spring"],
"likesCount": 5,
"commentsCount": 2
}
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   POST /api/posts
   Content-Type: application/json
   Ğ¢ĞµĞ»Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:

json
{
"title": "New Post Title",
"text": "Post text in Markdown format...",
"tags": ["tag1", "tag2"]
}
ĞÑ‚Ğ²ĞµÑ‚ 201 Created:

json
{
"id": 3,
"title": "New Post Title",
"text": "Post text in Markdown format...",
"tags": ["tag1", "tag2"],
"likesCount": 0,
"commentsCount": 0
}
4. Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   PUT /api/posts/{id}
   Content-Type: application/json
   Ğ¢ĞµĞ»Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:

json
{
"id": 1,
"title": "Updated Title",
"text": "Updated text...",
"tags": ["updated-tag"]
}
ĞÑ‚Ğ²ĞµÑ‚ 200 OK: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾ÑÑ‚

5. Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   DELETE /api/posts/{id}
   ĞÑ‚Ğ²ĞµÑ‚ 204 No Content: ĞŸĞ¾ÑÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½

6. Ğ˜Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚ Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²
   text
   POST /api/posts/{id}/likes
   ĞÑ‚Ğ²ĞµÑ‚ 200 OK:

json
6
7. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   PUT /api/posts/{id}/image
   Content-Type: multipart/form-data
   ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:

image (form-data): Ğ¤Ğ°Ğ¹Ğ» Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ

ĞÑ‚Ğ²ĞµÑ‚ 200 OK: ĞšĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ°

8. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   GET /api/posts/{id}/image
   ĞÑ‚Ğ²ĞµÑ‚ 200 OK: Ğ‘Ğ°Ğ¹Ñ‚Ñ‹ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ

Comments API
1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ĞµĞ² Ğ¿Ğ¾ÑÑ‚Ğ°
   text
   GET /api/posts/{postId}/comments
   ĞÑ‚Ğ²ĞµÑ‚ 200 OK:

json
[
{
"id": 1,
"text": "Great post!",
"postId": 1
}
]
2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ñ
   text
   GET /api/posts/{postId}/comments/{commentId}
   ĞÑ‚Ğ²ĞµÑ‚ 200 OK:

json
{
"id": 1,
"text": "Great post!",
"postId": 1
}
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ñ
   text
   POST /api/posts/{postId}/comments
   Content-Type: application/json
   Ğ¢ĞµĞ»Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:

json
{
"text": "This is a great post!",
"postId": 1
}
ĞÑ‚Ğ²ĞµÑ‚ 201 Created: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹

4. Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ñ
   text
   PUT /api/posts/{postId}/comments/{commentId}
   Content-Type: application/json
   Ğ¢ĞµĞ»Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:

json
{
"id": 1,
"text": "Updated comment text",
"postId": 1
}
ĞÑ‚Ğ²ĞµÑ‚ 200 OK: ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹

5. Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ñ
   text
   DELETE /api/posts/{postId}/comments/{commentId}
   ĞÑ‚Ğ²ĞµÑ‚ 204 No Content: ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½

ğŸ—„ï¸ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° posts
sql
CREATE TABLE posts (
id BIGSERIAL PRIMARY KEY,
title VARCHAR(255) NOT NULL,
text TEXT NOT NULL,
likes_count INTEGER DEFAULT 0,
comments_count INTEGER DEFAULT 0,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° post_tags
sql
CREATE TABLE post_tags (
id BIGSERIAL PRIMARY KEY,
post_id BIGINT NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
tag_name VARCHAR(100) NOT NULL
);
Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° comments
sql
CREATE TABLE comments (
id BIGSERIAL PRIMARY KEY,
post_id BIGINT NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
text TEXT NOT NULL,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° images
sql
CREATE TABLE images (
id BIGSERIAL PRIMARY KEY,
post_id BIGINT NOT NULL UNIQUE REFERENCES posts(id) ON DELETE CASCADE,
data BYTEA NOT NULL,
content_type VARCHAR(50),
file_name VARCHAR(255)
);
ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²ÑĞµÑ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²
bash
mvn test
Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ°
bash
mvn test -Dtest=PostServiceTest
Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ñ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼
bash
mvn test jacoco:report
Ğ¢Ğ¸Ğ¿Ñ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²
Unit Tests (Ğ®Ğ½Ğ¸Ñ‚ Ñ‚ĞµÑÑ‚Ñ‹)
Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒÑÑ‚ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ² Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ğ¸:

PostServiceTest: Ğ¢ĞµÑÑ‚Ñ‹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²

CommentServiceTest: Ğ¢ĞµÑÑ‚Ñ‹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ° ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ĞµĞ²

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:

java
@Test
void testCreatePost_ValidInput_ReturnsPost() {
PostDTO input = new PostDTO("Title", "Text", Arrays.asList("tag1"));
PostDTO result = postService.createPost(input);

    assertNotNull(result.getId());
    assertEquals("Title", result.getTitle());
}
Integration Tests (Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹)
Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒÑÑ‚ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸:

PostControllerTest: Ğ¢ĞµÑÑ‚Ñ‹ REST API ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ°

PostRepositoryTest: Ğ¢ĞµÑÑ‚Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ‘Ğ”

ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
application.properties (ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ H2)
text
# Server
server.port=8080
server.servlet.context-path=/

# Logging
logging.level.root=INFO
logging.level.ru.yandex.practicum.blog=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.data=DEBUG

# Database - H2
spring.datasource.url=jdbc:h2:mem:blog
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=false

# Spring Data JDBC
spring.data.jdbc.repositories.enabled=true
application-postgres.properties (Production Ñ PostgreSQL)
text
# Database - PostgreSQL
spring.datasource.url=jdbc:postgresql://localhost:5432/blog
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=postgres

# Connection Pool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
ğŸ“¦ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ H2
Ğ¡Ğ¾Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚:

bash
mvn clean package
Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ½Ğ° Tomcat (ĞµÑĞ»Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾):

bash
cp target/blog-back-app.war $CATALINA_HOME/webapps/
$CATALINA_HOME/bin/startup.sh

bash
curl http://localhost:8080/api/posts?search=&pageNumber=1&pageSize=10
Production Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ PostgreSQL
ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ³Ğ°Ğ¹Ğ´ ÑĞ¼. Ğ² DEPLOYMENT.md

ğŸ’» Ğ¡Ñ‚ĞµĞº Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹
ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚	Ğ’ĞµÑ€ÑĞ¸Ñ	ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
Java	21	Ğ¯Ğ·Ñ‹Ğº Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
Spring Framework	6.1.2	ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº
Spring Data JDBC	3.2.0	Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”
PostgreSQL	14+	Production Ğ‘Ğ”
H2	2.2.224	In-memory Ğ‘Ğ” Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²
Maven	3.8+	Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
JUnit 5	5.9.3	Unit Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
Mockito	5.3.1	ĞœĞ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
Tomcat	10	Servlet ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
Lombok	1.18.30	Reduction boilerplate ĞºĞ¾Ğ´Ğ°


